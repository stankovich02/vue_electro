{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapGetters } from 'vuex';\nexport default {\n  name: 'HeaderComponent',\n  data() {\n    return {\n      userLoggedIn: false,\n      isAdmin: false,\n      totalPrice: 0,\n      products: []\n    };\n  },\n  mounted() {\n    let user = JSON.parse(localStorage.getItem('user'));\n    if (user) {\n      this.userLoggedIn = true;\n    }\n    if (user != null && user.role == \"admin\") {\n      this.isAdmin = true;\n    }\n    if (cartProducts.length > 0) {\n      this.products = cartProducts;\n      let price = 0;\n      this.cartProducts.forEach(p => {\n        price += p.price * p.quantity;\n      });\n      this.totalPrice = price;\n    }\n  },\n  computed: {\n    ...mapGetters(['cartProducts'])\n  },\n  methods: {\n    makeLinkForSingle: function (name) {\n      return \"/product/\" + name;\n    },\n    returnImgSrc(src) {\n      return src + '_small.png';\n    },\n    logout() {\n      this.$store.commit(\"logoutUser\");\n      this.$forceUpdate();\n      this.$router.push(\"/login\");\n      location.reload();\n    }\n  },\n  watch: {\n    cartProducts: function () {\n      this.products = cartProducts;\n      let price = 0;\n      this.cartProducts.forEach(p => {\n        price += p.price * p.quantity;\n      });\n      this.totalPrice = price;\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","name","data","userLoggedIn","isAdmin","totalPrice","products","mounted","user","JSON","parse","localStorage","getItem","role","cartProducts","length","price","forEach","p","quantity","computed","methods","makeLinkForSingle","returnImgSrc","src","logout","$store","commit","$forceUpdate","$router","push","location","reload","watch"],"sources":["src/components/Header.vue"],"sourcesContent":["<template>\r\n\t\t<header>\r\n\t\t\t<!-- TOP HEADER -->\r\n\t\t\t<div id=\"top-header\">\r\n\t\t\t\t<div class=\"container\">\r\n\t\t\t\t\t<ul class=\"header-links pull-left\">\r\n\t\t\t\t\t\t<li><a href=\"#\"><i class=\"fa fa-phone\"></i> +021-95-51-84</a></li>\r\n\t\t\t\t\t\t<li><a href=\"#\"><i class=\"fa fa-envelope-o\"></i> office@electro.com</a></li>\r\n\t\t\t\t\t\t<li><a href=\"#\"><i class=\"fa fa-map-marker\"></i> 1734 Stonecoal Road</a></li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<ul class=\"header-links pull-right\">\r\n\t\t\t\t\t\t<li><a href=\"#\" v-if=\"userLoggedIn\" @click=\"logout\"><i class=\"fa fa-user-o\"></i> Logout</a></li>\r\n\t\t\t\t\t\t<router-link to=\"/login\"><li class=\"me-3\"><a href=\"#\" v-if=\"!userLoggedIn\"><i class=\"fa fa-user-o\"></i> Login</a></li></router-link>\r\n\t\t\t\t\t\t<router-link to=\"/register\"><li class=\"me-3\"><a href=\"#\" v-if=\"!userLoggedIn\"><i class=\"fa fa-user-o\"></i> Register</a></li></router-link>\r\n\t\t\t\t\t\t<router-link to=\"/admin/products\"><li class=\"me-3\"><a href=\"#\" v-if=\"isAdmin\"><i class=\"fa fa-user-o\"></i> Admin</a></li></router-link>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- /TOP HEADER -->\r\n\r\n\t\t\t<!-- MAIN HEADER -->\r\n\t\t\t<div id=\"header\">\r\n\t\t\t\t<!-- container -->\r\n\t\t\t\t<div class=\"container\">\r\n\t\t\t\t\t<!-- row -->\r\n\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t<!-- LOGO -->\r\n\t\t\t\t\t\t<div class=\"col-md-6\">\r\n\t\t\t\t\t\t\t<div class=\"header-logo\">\r\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"logo\">\r\n\t\t\t\t\t\t\t\t\t<img src=\"assets/img/logo.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /LOGO -->\r\n\t\t\t\t\t\t<!-- ACCOUNT -->\r\n\t\t\t\t\t\t<div class=\"col-md-6 clearfix\">\r\n\t\t\t\t\t\t\t<div class=\"header-ctn\">\r\n\t\t\t\t\t\t\t\t<!-- Wishlist -->\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<router-link to=\"/wishlist\">\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-heart-o\"></i>\r\n\t\t\t\t\t\t\t\t\t\t<span>Your Wishlist</span>\r\n\t\t\t\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<!-- /Wishlist -->\r\n\r\n\t\t\t\t\t\t\t\t<!-- Cart -->\r\n\t\t\t\t\t\t\t\t<div class=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t<a class=\"dropdown-toggle\" data-toggle=\"dropdown\" aria-expanded=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-shopping-cart\"></i>\r\n\t\t\t\t\t\t\t\t\t\t<span>Your Cart</span>\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t<div class=\"cart-dropdown\" v-if=\"products.length > 0\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"cart-list\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"product-widget\" v-for=\"p in cartProducts\" :key=\"p.id\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"product-img\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img :src=\"returnImgSrc(p.image_src)\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"product-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 class=\"product-name\"><router-link :to=\"makeLinkForSingle(p.name)\">{{ p.name }}</router-link></h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 class=\"product-price\"><span class=\"qty\">{{ p.quantity }}x</span>{{p.price}}&euro;</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"delete\"><i class=\"fa fa-close\"></i></button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"cart-summary\">\r\n\t\t\t\t\t\t\t\t\t\t\t<small>{{ products.length }} Item(s) selected</small>\r\n\t\t\t\t\t\t\t\t\t\t\t<h5>TOTAL: {{totalPrice}}&euro;</h5>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"cart-btns\">\r\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"#\">Checkout  <i class=\"fa fa-arrow-circle-right\"></i></a>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"cart-dropdown\" v-else>\r\n\t\t\t\t\t\t\t\t\t\t\t<h4 class=\"text-center\">Cart is empty</h4>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<!-- /Cart -->\r\n\r\n\t\t\t\t\t\t\t\t<!-- Menu Toogle -->\r\n\t\t\t\t\t\t\t\t<div class=\"menu-toggle\">\r\n\t\t\t\t\t\t\t\t\t<a href=\"#\">\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-bars\"></i>\r\n\t\t\t\t\t\t\t\t\t\t<span>Menu</span>\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<!-- /Menu Toogle -->\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ACCOUNT -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- row -->\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- container -->\r\n\t\t\t</div>\r\n\t\t\t<!-- /MAIN HEADER -->\r\n\t\t</header>\r\n</template>\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n    name: 'HeaderComponent',\r\n    data() {\r\n        return {\r\n\t\t\tuserLoggedIn: false,\r\n\t\t\tisAdmin: false,\r\n\t\t\ttotalPrice: 0,\r\n\t\t\tproducts : []\r\n        }\r\n    },\r\n\tmounted() {\r\n\t\tlet user = JSON.parse(localStorage.getItem('user'));\r\n\t\tif (user) {\r\n\t\t\tthis.userLoggedIn = true;\r\n\t\t}\r\n\t\tif(user != null && user.role == \"admin\") {\r\n\t\t\tthis.isAdmin = true;\r\n\t\t}\r\n\t\tif(cartProducts.length > 0) {\r\n\t\t\tthis.products = cartProducts;\r\n\t\t\tlet price = 0;\r\n\t\t\tthis.cartProducts.forEach(p => {\r\n\t\t\t\tprice += p.price * p.quantity;\r\n\t\t\t});\r\n\t\t\tthis.totalPrice = price;\r\n\t\t}\r\n\t\t\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters(['cartProducts'])\r\n\t},\r\n\tmethods: {\r\n\t\tmakeLinkForSingle: function(name) {\r\n\t\t\treturn \"/product/\" + name;\r\n\t\t},\r\n\t\treturnImgSrc(src){\r\n\t\t\treturn src + '_small.png';\r\n\t\t},\r\n\t\tlogout() {\r\n\t\t\tthis.$store.commit(\"logoutUser\")\r\n\t\t\tthis.$forceUpdate()\r\n\t\t\tthis.$router.push(\"/login\")\r\n\t\t\tlocation.reload();\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tcartProducts: function() {\r\n\t\t\tthis.products = cartProducts;\r\n\t\t\tlet price = 0;\r\n\t\t\tthis.cartProducts.forEach(p => {\r\n\t\t\t\tprice += p.price * p.quantity;\r\n\t\t\t});\r\n\t\t\tthis.totalPrice = price;\r\n\t\t}\r\n\t}\r\n}\r\n</script>"],"mappings":";AAqGA,SAAAA,UAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,YAAA;MACAC,OAAA;MACAC,UAAA;MACAC,QAAA;IACA;EACA;EACAC,QAAA;IACA,IAAAC,IAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA,IAAAJ,IAAA;MACA,KAAAL,YAAA;IACA;IACA,IAAAK,IAAA,YAAAA,IAAA,CAAAK,IAAA;MACA,KAAAT,OAAA;IACA;IACA,IAAAU,YAAA,CAAAC,MAAA;MACA,KAAAT,QAAA,GAAAQ,YAAA;MACA,IAAAE,KAAA;MACA,KAAAF,YAAA,CAAAG,OAAA,CAAAC,CAAA;QACAF,KAAA,IAAAE,CAAA,CAAAF,KAAA,GAAAE,CAAA,CAAAC,QAAA;MACA;MACA,KAAAd,UAAA,GAAAW,KAAA;IACA;EAEA;EACAI,QAAA;IACA,GAAApB,UAAA;EACA;EACAqB,OAAA;IACAC,iBAAA,WAAAA,CAAArB,IAAA;MACA,qBAAAA,IAAA;IACA;IACAsB,aAAAC,GAAA;MACA,OAAAA,GAAA;IACA;IACAC,OAAA;MACA,KAAAC,MAAA,CAAAC,MAAA;MACA,KAAAC,YAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;MACAC,QAAA,CAAAC,MAAA;IACA;EACA;EACAC,KAAA;IACAnB,YAAA,WAAAA,CAAA;MACA,KAAAR,QAAA,GAAAQ,YAAA;MACA,IAAAE,KAAA;MACA,KAAAF,YAAA,CAAAG,OAAA,CAAAC,CAAA;QACAF,KAAA,IAAAE,CAAA,CAAAF,KAAA,GAAAE,CAAA,CAAAC,QAAA;MACA;MACA,KAAAd,UAAA,GAAAW,KAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}