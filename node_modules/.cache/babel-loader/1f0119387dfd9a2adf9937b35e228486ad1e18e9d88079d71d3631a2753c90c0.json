{"ast":null,"code":"setTimeout(() => {\n  this.$store.commit('sortProducts', 0);\n}, 1000);","map":{"version":3,"names":["setTimeout","$store","commit"],"sources":["src/components/pages/Store.vue"],"sourcesContent":["<template>\r\n    <div>\r\n\t\t<div id=\"breadcrumb\" class=\"section\">\r\n\t\t\t<!-- container -->\r\n\t\t\t<div class=\"container\">\r\n\t\t\t\t<!-- row -->\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"col-md-12\">\r\n\t\t\t\t\t\t<ul class=\"breadcrumb-tree\">\r\n\t\t\t\t\t\t\t<li><a href=\"#\">Home</a></li>\r\n\t\t\t\t\t\t\t<li class=\"active\">Store</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /row -->\r\n\t\t\t</div>\r\n\t\t\t<!-- /container -->\r\n\t\t</div>\r\n\t\t<!-- /BREADCRUMB -->\r\n\r\n\t\t<!-- SECTION -->\r\n\t\t<div class=\"section\">\r\n\t\t\t<!-- container -->\r\n\t\t\t<div class=\"container\">\r\n\t\t\t\t<!-- row -->\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<!-- ASIDE -->\r\n\t\t\t\t\t<div id=\"aside\" class=\"col-md-3\">\r\n\t\t\t\t\t\t<div class=\"aside\">\r\n\t\t\t\t\t\t\t<h3 class=\"aside-title\">Searh by name</h3>\r\n\t\t\t\t\t\t\t<div class=\"search-filter\">\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"search\" class=\"py-2 px-2\" id=\"search\" placeholder=\"Type name...\" v-model=\"search\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /aside Widget -->\r\n\t\t\t\t\t\t<!-- aside Widget -->\r\n\t\t\t\t\t\t<div class=\"aside\">\r\n\t\t\t\t\t\t\t<h3 class=\"aside-title\">Categories</h3>\r\n\t\t\t\t\t\t\t<div class=\"checkbox-filter\">\r\n\t\t\t\t\t\t\t\t<div class=\"input-checkbox\" v-for=\"c in categories\" :key=\"c.category_id\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" name=\"category\" :value=\"c.category_id\" :id=\"makeID(c.category_id,c.category_name)\" v-model=\"choosedCategories\">\r\n\t\t\t\t\t\t\t\t\t<label :for=\"makeID(c.category_id,c.category_name)\">\r\n\t\t\t\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t\t\t\t{{c.category_name}}\r\n\t\t\t\t\t\t\t\t\t\t<small>({{ c.NumOfProducts }})</small>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /aside Widget -->\r\n\r\n\r\n\t\t\t\t\t\t<!-- aside Widget -->\r\n\t\t\t\t\t\t<div class=\"aside\">\r\n\t\t\t\t\t\t\t<h3 class=\"aside-title\">Brand</h3>\r\n\t\t\t\t\t\t\t<div class=\"checkbox-filter\">\r\n\t\t\t\t\t\t\t\t<div class=\"input-checkbox\" v-for=\"b in brands\" :key=\"b.brand_id\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" name=\"brand\" :value=\"b.brand_id\" :id=\"makeID(b.brand_id,b.brand_name)\" v-model=\"choosedBrands\">\r\n\t\t\t\t\t\t\t\t\t<label :for=\"makeID(b.brand_id,b.brand_name)\">\r\n\t\t\t\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t\t\t\t{{b.brand_name}}\r\n\t\t\t\t\t\t\t\t\t\t<small>({{ b.NumOfProducts }})</small>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- aside Widget -->\r\n\t\t\t\t\t\t<div class=\"aside\">\r\n\t\t\t\t\t\t\t<h3 class=\"aside-title\">Price</h3>\r\n\t\t\t\t\t\t\t<div class=\"price-filter\">\r\n\t\t\t\t\t\t\t\t<div id=\"price-slider\"></div>\r\n\t\t\t\t\t\t\t\t<div class=\"input-number price-min\">\r\n\t\t\t\t\t\t\t\t\t<input v-model=\"minPrice\" id=\"price-min\" type=\"number\">\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<span>-</span>\r\n\t\t\t\t\t\t\t\t<div class=\"input-number price-max\">\r\n\t\t\t\t\t\t\t\t\t<input  v-model=\"maxPrice\" id=\"price-max\" type=\"number\">\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /aside Widget -->\r\n\r\n\t\t\t\t\t\t<!-- /aside Widget -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- /ASIDE -->\r\n\r\n\t\t\t\t\t<!-- STORE -->\r\n\t\t\t\t\t<div id=\"store\" class=\"col-md-9\">\r\n\t\t\t\t\t\t<!-- store top filter -->\r\n\t\t\t\t\t\t<div class=\"store-filter clearfix\" v-if=\"this.products.length > 0\">\r\n\t\t\t\t\t\t\t<div class=\"store-sort\">\r\n\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\tSort By:\r\n\t\t\t\t\t\t\t\t\t<select class=\"input-select\" name=\"sort\" v-model=\"sort\">\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"0\">Standard</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"name-asc\">Name A-Z</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"name-desc\">Name Z-A</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"price-asc\">Price Low to High</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"price-desc\">Price High to Low</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"newest\">Newest</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\tShow:\r\n\t\t\t\t\t\t\t\t\t<select class=\"input-select\" name=\"perPage\" v-model=\"perPage\">\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"3\">3</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"6\">6</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"9\">9</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"12\">12</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- <ul class=\"store-grid\">\r\n\t\t\t\t\t\t\t\t<li class=\"active\"><i class=\"fa fa-th\"></i></li>\r\n\t\t\t\t\t\t\t\t<li><a href=\"#\"><i class=\"fa fa-th-list\"></i></a></li>\r\n\t\t\t\t\t\t\t</ul> -->\r\n\t\t\t\t\t\t\t<div class=\"store-filter clearfix\">\r\n\t\t\t\t\t\t\t<span class=\"store-qty\">Showing {{((this.viewpage-1)*this.perPage + 1)}}-{{printNumOfProductsAtPage()}} of {{ this.products.length }} product(s)</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /store top filter -->\r\n\r\n\t\t\t\t\t\t<!-- store products -->\r\n\t\t\t\t\t\t<div class=\"row\" v-if=\"pagedProducts.length > 0\">\r\n\t\t\t\t\t\t\t<!-- product -->\r\n\t\t\t\t\t\t\t<div  v-for=\"p in pagedProducts\" :key=\"p.product_id\" class=\"col-md-4 col-xs-6\">\r\n\t\t\t\t\t\t\t\t<div class=\"product\" v-if=\"p.product_id\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"product-img\">\r\n\t\t\t\t\t\t\t\t\t\t<img :src=\"returnImgSrc(p.image_src, imgSize)\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"product-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"new\" v-if=\"p.discount_percent\">-{{p.discount_percent}}%</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"product-body\">\r\n\t\t\t\t\t\t\t\t\t\t<h3 class=\"product-name\"><a href=\"#\" @click=\"openSingleProduct(p.name)\">{{p.name}}</a></h3>\r\n\t\t\t\t\t\t\t\t\t\t<div v-if=\"p.discount_id != null\">\r\n\t\t\t\t\t\t\t\t\t\t<h4 class=\"product-price\">{{p.price}}&euro;<del class=\"product-old-price\">{{p.price  - (p.price * p.discount_percent / 100)}}&euro;</del></h4>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div v-else>\r\n\t\t\t\t\t\t\t\t\t\t<h4 class=\"product-price\">{{p.price}}&euro;</h4>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"product-rating\" v-html=\"makeRating(p.Rating)\">\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"product-btns\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button :class=\"checkProductInWishlist(p.product_id)\" :data-id=\"p.product_id\" @click=\"addToWishlist(p.product_id)\"><i :class=\"checkProductForIcon(p.product_id)\"></i><span class=\"tooltipp\">add to wishlist</span></button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"add-to-cart\">\r\n\t\t\t\t\t\t\t\t\t\t<button class=\"add-to-cart-btn\"><i class=\"fa fa-shopping-cart\"></i> add to cart</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- /product -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div v-else class=\"alert alert-danger text-center fs-1\">\r\n\t\t\t\t\t\t\tNo products found\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /store products -->\r\n\r\n\t\t\t\t\t\t<!-- store bottom filter -->\r\n\r\n\t\t\t\t\t\t\t<ul class=\"store-pagination\">\r\n\t\t\t\t\t\t\t</ul>\r\n\r\n\t\t\t\t\t\t<!-- /store bottom filter -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- /STORE -->\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /row -->\r\n\t\t\t</div>\r\n\t\t\t<!-- /container -->\r\n\t\t</div>\r\n\t\t<!-- /SECTION -->\r\n\r\n\t\t<!-- NEWSLETTER -->\r\n\t\t<div id=\"newsletter\" class=\"section\">\r\n\t\t\t<!-- container -->\r\n\t\t\t<div class=\"container\">\r\n\t\t\t\t<!-- row -->\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"col-md-12\">\r\n\t\t\t\t\t\t<div class=\"newsletter\">\r\n\t\t\t\t\t\t\t<p>Sign up for the <strong>NEWSLETTER</strong></p>\r\n\t\t\t\t\t\t\t<form>\r\n\t\t\t\t\t\t\t\t<input class=\"input\" type=\"email\" placeholder=\"Enter Your Email\">\r\n\t\t\t\t\t\t\t\t<button class=\"newsletter-btn\"><i class=\"fa fa-envelope\"></i> Subscribe</button>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /row -->\r\n\t\t\t</div>\r\n\t\t\t<!-- /container -->\r\n\t\t</div>\r\n        </div>\r\n</template>\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n    name: 'StoreComponent',\r\n    data() {\r\n        return {\r\n\t\t\tpagedProducts: [],\r\n\t\t\tcategories: [],\r\n\t\t\tbrands: [],\r\n\t\t\tchoosedCategories: [],\r\n\t\t\tchoosedBrands: [],\r\n\t\t\tminPrice: 0,\r\n\t\t\tmaxPrice: 3000,\r\n\t\t\tsearch: '',\r\n\t\t\tsort: 0,\r\n\t\t\tadminLoggedIn: false,\r\n\t\t\timgSize: 'large',\r\n\t\t\tperPage : 9,\r\n\t\t\tviewpage: 1,\r\n\t\t\tlastpage: null,\r\n        }\r\n    },\r\n\tmounted() {\r\n\t\tthis.$axios.get('models/getAsideFilter.php?table=categories').then(response => {\r\n\t\t\tthis.categories = response.data\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n\t\tthis.$axios.get('models/getAsideFilter.php?table=brands').then(response => {\r\n\t\t\tthis.brands = response.data\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.log(error)\r\n\t\t})\r\n\t\tthis.makePagination();\r\n\t\tlet paginations = document.querySelectorAll('.store-pagination li');\r\n\t\tpaginations.forEach(pagination => {\r\n\t\t\tpagination.addEventListener('click', () => {\r\n\t\t\t\tthis.viewpage = pagination.textContent;\r\n\t\t\t\tthis.pagedProducts = this.products.slice((this.viewpage - 1) * this.perPage, this.viewpage * this.perPage)\r\n\t\t\t})\r\n\t\t})\r\n\t\tthis.pagedProducts = this.products.slice((this.viewpage - 1) * this.perPage, this.viewpage * this.perPage)\r\n\t\tlet user = JSON.parse(localStorage.getItem('user'));\r\n\t\tif(user){\r\n\t\t\tif(user.role == 'admin'){\r\n\t\t\t\tthis.adminLoggedIn = true;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters([\"products\",\"role\",\"wishlist\"])\r\n\t},\r\n\tmethods: {\r\n\t\tmakePagination(){\r\n\t\t\tlet html = '';\r\n\t\t\tlet numOfPages = Math.ceil(this.products.length / this.perPage);\r\n\t\t\tfor(let i = 1; i <= numOfPages; i++){\r\n\t\t\t\thtml += `<li class=\"pagination\"><a href=\"#\">${i}</a></li>`;\r\n\t\t\t}\r\n\t\t\tdocument.querySelector('.store-pagination').innerHTML = html;\r\n\t\t\tlet paginations = document.querySelectorAll('.store-pagination li');\r\n\t\t\tvar self = this;\r\n\t\t\tpaginations.forEach(pagination => {\r\n\t\t\t\tpagination.addEventListener('click', () => {\r\n\t\t\t\t\tthis.viewpage = pagination.textContent;\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\tprintNumOfProductsAtPage: function() {\r\n\t\t\tif(this.viewpage == this.lastpage || this.products.length < this.perPage){\r\n\t\t\t\treturn this.products.length;\r\n\t\t\t}\r\n\t\t\treturn this.viewpage*this.perPage;\r\n\t\t},\r\n\t\tmakeID: function(id,name) {\r\n\t\t\treturn name + id;\r\n\t\t},\r\n\t\tsendPage: function(e) {\r\n\t\t\tlet paginations = document.querySelectorAll('.pagination');\r\n\t\t\tfor(let p of paginations) {\r\n\t\t\t\tp.classList.remove('active');\r\n\t\t\t}\r\n\t\t\te.classList.add('active');\r\n\t\t},\r\n\t\treturnImgSrc(src, imgSize){\r\n\t\t\treturn src + '_' + imgSize + '.png';\r\n\t\t},\r\n\t\tmakeRating: function(rating) {\r\n\t\t\tlet html = '';\r\n\t\t\tif(rating == null){\r\n\t\t\t\thtml += `\r\n\t\t\t\t<i class=\"fa fa-star-o\"></i>\r\n\t\t\t\t<i class=\"fa fa-star-o\"></i>\r\n\t\t\t\t<i class=\"fa fa-star-o\"></i>\r\n\t\t\t\t<i class=\"fa fa-star-o\"></i>\r\n\t\t\t\t<i class=\"fa fa-star-o\"></i>\r\n\t\t\t\t`\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tfor(let i = 0; i < rating; i++){\r\n\t\t\t\t\thtml += `<i class=\"fa fa-star\"></i>`\r\n\t\t\t\t}\r\n\t\t\t\tfor(let i = 0; i < 5 - rating; i++){\r\n\t\t\t\t\thtml += `<i class=\"fa fa-star-o\"></i>`\r\n\t\t\t}\r\n\t\t}\r\n\t\t\treturn html;\r\n\t\t},\r\n\t\topenSingleProduct: function(name) {\r\n\t\t\tthis.$router.push(\"/product/\" + name)\r\n\t\t\tlocation.reload();\r\n\t\t},\r\n\t\teditProduct: function(id) {\r\n\t\t\tthis.$router.push(\"/edit-product/\" + id)\r\n\t\t},\r\n\t\tdeleteProduct: function(id){\r\n\t\t\tthis.$store.commit(\"deleteProduct\", id)\r\n\t\t},\r\n\t\tcheckProductInWishlist(id){\r\n\t\t\tfor(let product of this.wishlist){\r\n\t\t\t\tif(product.id == id){\r\n\t\t\t\t\treturn \"add-to-wishlist active\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn \"add-to-wishlist\";\r\n\t\t},\r\n\t\tcheckProductForIcon(id){\r\n\t\t\tfor(let product of this.wishlist){\r\n\t\t\t\tif(product.id == id){\r\n\t\t\t\t\treturn `fa fa-heart`;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn `fa fa-heart-o`;\r\n\t\t},\r\n\t\taddToWishlist: function(id) {\r\n\t\t\tlet button = document.querySelector('.add-to-wishlist[data-id=\"' + id + '\"]')\r\n\t\t\tif(button.classList.contains('active')){\r\n\t\t\t\tbutton.classList.remove('active')\r\n\t\t\t\tbutton.innerHTML = `<i class=\"fa fa-heart-o\"></i>`\r\n\t\t\t\tthis.$store.commit('removeProductFromWishlist', id);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tbutton.classList.add('active')\r\n\t\t\t\tbutton.innerHTML = `<i class=\"fa fa-heart\"></i>`\r\n\t\t\t\tthis.$store.commit(\"addProductToWishlist\", {id: id})\r\n\t\t\t}\r\n\t\t},\r\n\t\taddToCart: function(p) {\r\n\t\t\t\tthis.$store.commit(\"addProductToCart\", {product: p , SingleProduct: false})\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tchoosedCategories: function() {\r\n\t\t\tthis.$store.commit('filterByCategory', this.choosedCategories)\r\n\t\t},\r\n\t\tchoosedBrands: function() {\r\n\t\t\tthis.$store.commit('filterByBrand', this.choosedBrands)\r\n\t\t},\r\n\t\tminPrice: function() {\r\n\t\t\tthis.$store.commit('filterByPrice', {minPrice : this.minPrice, maxPrice: this.maxPrice})\r\n\t\t},\r\n\t\tmaxPrice: function() {\r\n\t\t\tthis.$store.commit('filterByPrice', {minPrice : this.minPrice, maxPrice: this.maxPrice})\r\n\t\t},\r\n\t\tsearch: function() {\r\n\t\t\tthis.$store.commit('filterByKeyword', this.search)\r\n\t\t},\r\n\t\tsort: function() {\r\n\t\t\tthis.$store.commit('sortProducts', this.sort)\r\n\t\t},\r\n\t\tproducts: function() {\r\n\t\t\tthis.viewpage = 1;\r\n\t\t\tthis.lastpage = Math.ceil(this.products.length / this.perPage);\r\n\t\t\tthis.pagedProducts = this.products.slice((this.viewpage - 1) * this.perPage, this.viewpage * this.perPage)\r\n\t\t\tthis.makePagination()\r\n\t\t},\r\n\t\tviewpage: function() {\r\n\t\t\tthis.pagedProducts = this.products.slice((this.viewpage - 1) * this.perPage, this.viewpage * this.perPage)\r\n\t\t},\r\n\t\tperPage: function() {\r\n\t\t\tthis.viewpage = 1;\r\n\t\t\tthis.pagedProducts = this.products.slice((this.viewpage - 1) * this.perPage, this.viewpage * this.perPage)\r\n\t\t\tthis.makePagination()\r\n\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n<script>\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.$store.commit('sortProducts', 0);\r\n\t\t}, 1000)\r\n</script>"],"mappings":"AAmYAA,UAAA;EACA,KAAAC,MAAA,CAAAC,MAAA;AACA"},"metadata":{},"sourceType":"script","externalDependencies":[]}