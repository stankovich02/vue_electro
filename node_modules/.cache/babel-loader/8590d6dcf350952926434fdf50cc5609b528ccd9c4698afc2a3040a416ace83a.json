{"ast":null,"code":"import users from \"./users.json\";\nexport default {\n  state: {\n    user: {\n      username: \"guest\",\n      role: \"unauthorized\"\n    },\n    users: users\n  },\n  mutations: {\n    changeUsername(state, newUsername) {\n      state.user.username = newUsername;\n    },\n    changeUser(state, newUser) {\n      if (!newUser) {\n        state.user.username = \"guest\";\n        state.user.role = \"unauthorized\";\n        localStorage.removeItem(\"user\");\n        return;\n      }\n      state.user.username = newUser.username, state.user.role = newUser.role;\n    },\n    addUser(state, newUser) {\n      const data = JSON.stringify(newUser);\n      const fs = require('fs');\n      try {\n        fs.writeFileSync(\"./users.json\", data);\n      } catch (e) {\n        console.log(\"Error writing to file: \" + e.message);\n      }\n    }\n  },\n  getters: {\n    username(state) {\n      return state.user.username;\n    },\n    isAdmin(state) {\n      return state.user.isAdmin;\n    },\n    role(state) {\n      return state.user.role;\n    },\n    users(state) {\n      return state.users;\n    }\n  }\n};","map":{"version":3,"names":["users","state","user","username","role","mutations","changeUsername","newUsername","changeUser","newUser","localStorage","removeItem","addUser","data","JSON","stringify","fs","require","writeFileSync","e","console","log","message","getters","isAdmin"],"sources":["C:/Users/marko/OneDrive/Desktop/vue sajt ispit/sajt/src/store/modules/users.js"],"sourcesContent":["import users from \"./users.json\"\r\nexport default {\r\n    state: {\r\n      user: { username : \"guest\", role: \"unauthorized\" },\r\n      users : users\r\n    },\r\n    mutations: {\r\n        changeUsername(state, newUsername) {\r\n            state.user.username = newUsername\r\n        },\r\n        changeUser(state, newUser) {\r\n\r\n            if(!newUser) {\r\n                state.user.username = \"guest\"\r\n                state.user.role = \"unauthorized\"\r\n                localStorage.removeItem(\"user\")\r\n                return;\r\n            }\r\n\r\n            state.user.username = newUser.username,\r\n            state.user.role = newUser.role\r\n        },\r\n        addUser(state, newUser) {\r\n            const data = JSON.stringify(newUser)\r\n            const fs = require('fs');\r\n            try {\r\n                fs.writeFileSync(\"./users.json\", data);\r\n        }\r\n            catch(e) { \r\n                console.log(\"Error writing to file: \" + e.message); \r\n             }\r\n        }\r\n    },\r\n    getters: {\r\n        username(state) {\r\n            return state.user.username\r\n        },\r\n        isAdmin(state) {\r\n            return state.user.isAdmin\r\n        },\r\n        role(state) {\r\n            return state.user.role\r\n        },\r\n        users(state) {\r\n            return state.users\r\n        }\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,cAAc;AAChC,eAAe;EACXC,KAAK,EAAE;IACLC,IAAI,EAAE;MAAEC,QAAQ,EAAG,OAAO;MAAEC,IAAI,EAAE;IAAe,CAAC;IAClDJ,KAAK,EAAGA;EACV,CAAC;EACDK,SAAS,EAAE;IACPC,cAAcA,CAACL,KAAK,EAAEM,WAAW,EAAE;MAC/BN,KAAK,CAACC,IAAI,CAACC,QAAQ,GAAGI,WAAW;IACrC,CAAC;IACDC,UAAUA,CAACP,KAAK,EAAEQ,OAAO,EAAE;MAEvB,IAAG,CAACA,OAAO,EAAE;QACTR,KAAK,CAACC,IAAI,CAACC,QAAQ,GAAG,OAAO;QAC7BF,KAAK,CAACC,IAAI,CAACE,IAAI,GAAG,cAAc;QAChCM,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;QAC/B;MACJ;MAEAV,KAAK,CAACC,IAAI,CAACC,QAAQ,GAAGM,OAAO,CAACN,QAAQ,EACtCF,KAAK,CAACC,IAAI,CAACE,IAAI,GAAGK,OAAO,CAACL,IAAI;IAClC,CAAC;IACDQ,OAAOA,CAACX,KAAK,EAAEQ,OAAO,EAAE;MACpB,MAAMI,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACN,OAAO,CAAC;MACpC,MAAMO,EAAE,GAAGC,OAAO,CAAC,IAAI,CAAC;MACxB,IAAI;QACAD,EAAE,CAACE,aAAa,CAAC,cAAc,EAAEL,IAAI,CAAC;MAC9C,CAAC,CACG,OAAMM,CAAC,EAAE;QACLC,OAAO,CAACC,GAAG,CAAC,yBAAyB,GAAGF,CAAC,CAACG,OAAO,CAAC;MACrD;IACL;EACJ,CAAC;EACDC,OAAO,EAAE;IACLpB,QAAQA,CAACF,KAAK,EAAE;MACZ,OAAOA,KAAK,CAACC,IAAI,CAACC,QAAQ;IAC9B,CAAC;IACDqB,OAAOA,CAACvB,KAAK,EAAE;MACX,OAAOA,KAAK,CAACC,IAAI,CAACsB,OAAO;IAC7B,CAAC;IACDpB,IAAIA,CAACH,KAAK,EAAE;MACR,OAAOA,KAAK,CAACC,IAAI,CAACE,IAAI;IAC1B,CAAC;IACDJ,KAAKA,CAACC,KAAK,EAAE;MACT,OAAOA,KAAK,CAACD,KAAK;IACtB;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}