{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport products from \"../sources/products.json\";\nexport default {\n  state: {\n    searchObj: {\n      keyword: null,\n      minPrice: null,\n      maxPrice: null,\n      sort: null,\n      choosedCategories: [],\n      choosedBrands: []\n    },\n    products: products,\n    filteredProducts: [],\n    deletedProducts: []\n  },\n  mutations: {\n    filterByKeyword(state, keyword) {\n      state.searchObj.keyword = keyword;\n    },\n    filterByCategory(state, categories) {\n      state.searchObj.choosedCategories = categories;\n    },\n    filterByBrand(state, brands) {\n      state.searchObj.choosedBrands = brands;\n    },\n    sortProducts(state, sort) {\n      state.searchObj.sort = sort;\n    },\n    changePerPage(state, perPage) {\n      state.searchObj.perPage = perPage;\n    },\n    updateProduct(state, productObj) {\n      var obj = state.products.find(x => x.id == productObj.id);\n      obj.name = productObj.name;\n      obj.price = productObj.price;\n      obj.image = productObj.image;\n    },\n    deleteProduct(state, id) {\n      state.deletedProducts.push(id);\n    }\n  },\n  actions: {\n    filterByKeyword(context, keyword) {\n      context.commit('filterByKeyword', keyword);\n    },\n    filterByCategory(context, categories) {\n      context.commit('filterByCategory', categories);\n    },\n    filterByBrand(context, brands) {\n      context.commit('filterByBrand', brands);\n    }\n  },\n  getters: {\n    products(state, getters) {\n      if (state.searchObj.keyword) {\n        state.filteredProducts = state.products.filter(function (p) {\n          return p.name.toLowerCase().includes(state.searchObj.keyword.toLowerCase().trim());\n        });\n      }\n      if (state.searchObj.choosedCategories.length > 0) {\n        state.filteredProducts = state.products.filter(el => state.searchObj.choosedCategories.includes(el.category_id));\n      }\n      if (state.searchObj.choosedBrands.length > 0) {\n        state.filteredProducts = state.products.filter(el => state.searchObj.choosedBrands.includes(el.brand_id));\n      }\n      if (state.searchObj.sort) {\n        state.filteredProducts = state.products.sort((a, b) => {\n          if (state.searchObj.sort == 'name-asc') {\n            return a.name.localeCompare(b.name);\n          } else if (state.searchObj.sort == 'name-desc') {\n            return b.name.localeCompare(a.name);\n          } else if (state.searchObj.sort == 'price-asc') {\n            return a.price - b.price;\n          } else if (state.searchObj.sort == 'price-desc') {\n            return b.price - a.price;\n          } else if (state.searchObj.sort == 'newest') {\n            return b.product_id - a.product_id;\n          }\n        });\n      }\n      if (state.filteredProducts.length == 0 && (state.searchObj.keyword || state.searchObj.choosedCategories.length > 0 || state.searchObj.choosedBrands.length > 0 || state.searchObj.sort || state.searchObj.minPrice || state.searchObj.maxPrice)) {\n        return \"No products found\";\n      } else if (!(state.searchObj.keyword || state.searchObj.choosedCategories.length > 0 || state.searchObj.choosedBrands.length > 0 || state.searchObj.sort || state.searchObj.minPrice || state.searchObj.maxPrice)) {\n        state.filteredProducts = state.products;\n        return getters.products;\n      } else {\n        return getters.filteredProducts;\n      }\n    }\n    // nonDeletedProducts(state ,getters) {\n    //   return getters.products.filter(x => !state.deletedProducts.includes(x.id))\n    // }\n  }\n};","map":{"version":3,"names":["products","state","searchObj","keyword","minPrice","maxPrice","sort","choosedCategories","choosedBrands","filteredProducts","deletedProducts","mutations","filterByKeyword","filterByCategory","categories","filterByBrand","brands","sortProducts","changePerPage","perPage","updateProduct","productObj","obj","find","x","id","name","price","image","deleteProduct","push","actions","context","commit","getters","filter","p","toLowerCase","includes","trim","length","el","category_id","brand_id","a","b","localeCompare","product_id"],"sources":["C:/Users/marko/OneDrive/Desktop/vue sajt ispit/sajt/src/store/modules/products.js"],"sourcesContent":["import products from \"../sources/products.json\"\r\n\r\nexport default {\r\n    state: {\r\n      searchObj: { keyword : null, minPrice : null, maxPrice : null, sort: null ,choosedCategories : [], choosedBrands : [] },\r\n      products: products,\r\n      filteredProducts: [],\r\n      deletedProducts: []\r\n    },\r\n    mutations: {\r\n      filterByKeyword(state, keyword) {\r\n        state.searchObj.keyword = keyword\r\n      },\r\n      filterByCategory(state, categories) {\r\n        state.searchObj.choosedCategories = categories\r\n      },\r\n      filterByBrand(state, brands) {\r\n        state.searchObj.choosedBrands = brands\r\n      },\r\n      sortProducts(state, sort) {\r\n        state.searchObj.sort = sort\r\n      },\r\n      changePerPage(state, perPage) {\r\n        state.searchObj.perPage = perPage\r\n      },\r\n      updateProduct(state, productObj) {\r\n        var obj = state.products.find(x => x.id == productObj.id)\r\n        obj.name = productObj.name\r\n        obj.price = productObj.price\r\n        obj.image = productObj.image\r\n      },\r\n      deleteProduct(state, id) {\r\n        state.deletedProducts.push(id)\r\n      }\r\n    },\r\n    actions: {\r\n      filterByKeyword(context, keyword) {\r\n        context.commit('filterByKeyword', keyword)\r\n      },\r\n      filterByCategory(context, categories) {\r\n        context.commit('filterByCategory', categories)\r\n      },\r\n      filterByBrand(context, brands) {\r\n        context.commit('filterByBrand', brands)\r\n      }\r\n    },\r\n    getters: {\r\n      products(state, getters) {\r\n          if(state.searchObj.keyword) {\r\n            state.filteredProducts = state.products.filter(function(p) {\r\n              return p.name.toLowerCase().includes(state.searchObj.keyword.toLowerCase().trim())\r\n            }) \r\n          }\r\n          if(state.searchObj.choosedCategories.length > 0) {\r\n            state.filteredProducts = state.products.filter(el => state.searchObj.choosedCategories.includes(el.category_id))\r\n          }\r\n          if(state.searchObj.choosedBrands.length > 0) {\r\n            state.filteredProducts = state.products.filter(el => state.searchObj.choosedBrands.includes(el.brand_id))\r\n          }\r\n          if(state.searchObj.sort) {\r\n            state.filteredProducts = state.products.sort((a, b) => {\r\n              if(state.searchObj.sort == 'name-asc') {\r\n                return a.name.localeCompare(b.name)\r\n              }\r\n              else if(state.searchObj.sort == 'name-desc') {\r\n                return b.name.localeCompare(a.name)\r\n              }\r\n              else if(state.searchObj.sort == 'price-asc') {\r\n                return a.price - b.price\r\n              }\r\n              else if(state.searchObj.sort == 'price-desc') {\r\n                return b.price - a.price\r\n              }\r\n              else if(state.searchObj.sort == 'newest') {\r\n                return b.product_id - a.product_id\r\n              }\r\n            } )\r\n          }\r\n          if(state.filteredProducts.length == 0 && (state.searchObj.keyword || state.searchObj.choosedCategories.length > 0 || state.searchObj.choosedBrands.length > 0 || state.searchObj.sort || state.searchObj.minPrice || state.searchObj.maxPrice)) {\r\n            return \"No products found\";\r\n          }\r\n          else if (!(state.searchObj.keyword || state.searchObj.choosedCategories.length > 0 || state.searchObj.choosedBrands.length > 0 || state.searchObj.sort || state.searchObj.minPrice || state.searchObj.maxPrice)){\r\n            state.filteredProducts = state.products\r\n            return getters.products\r\n          }\r\n          else {\r\n            return getters.filteredProducts\r\n          }\r\n        },\r\n      // nonDeletedProducts(state ,getters) {\r\n      //   return getters.products.filter(x => !state.deletedProducts.includes(x.id))\r\n      // }\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}