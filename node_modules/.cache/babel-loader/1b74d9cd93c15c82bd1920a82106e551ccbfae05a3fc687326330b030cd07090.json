{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport products from \"../sources/products.json\";\nexport default {\n  state: {\n    searchObj: {\n      keyword: null,\n      minPrice: null,\n      maxPrice: null,\n      sort: null,\n      choosedCategories: [],\n      choosedBrands: []\n    },\n    products: products,\n    newProducts: state.newProducts.sort((a, b) => {\n      return b.product_id - a.product_id;\n    }).slice(0, 8),\n    discountedProducts: products\n  },\n  mutations: {\n    filterByKeyword(state, keyword) {\n      state.searchObj.keyword = keyword;\n    },\n    filterByCategory(state, categories) {\n      state.searchObj.choosedCategories = categories;\n    },\n    filterByBrand(state, brands) {\n      state.searchObj.choosedBrands = brands;\n    },\n    filterByPrice(state, obj) {\n      state.searchObj.minPrice = Number(obj.minPrice);\n      state.searchObj.maxPrice = Number(obj.maxPrice);\n    },\n    sortProducts(state, sort) {\n      state.searchObj.sort = sort;\n    },\n    changePerPage(state, perPage) {\n      state.searchObj.perPage = perPage;\n    },\n    resetProducts(state) {\n      state.searchObj = {\n        keyword: null,\n        minPrice: null,\n        maxPrice: null,\n        sort: null,\n        choosedCategories: [],\n        choosedBrands: []\n      };\n    },\n    insertProduct(state, productObj) {\n      let product = {\n        product_id: state.products.length + 1,\n        name: productObj.name,\n        price: productObj.price,\n        category_id: productObj.category_id,\n        brand_id: productObj.brand_id,\n        discount_percent: productObj.discount_percent,\n        in_stock: productObj.in_stock,\n        image_src: productObj.image_src,\n        image_alt: productObj.name,\n        discount_id: productObj.discount_percent > 0 ? state.products.length + 1 : null,\n        Rating: null,\n        NumberOfReviews: \"0\"\n      };\n      state.products.push(product);\n    },\n    updateProduct(state, productObj) {\n      let product = state.products.find(x => x.product_id == productObj.id);\n      product.name = productObj.name;\n      product.price = productObj.price;\n      product.category_id = productObj.category_id;\n      product.brand_id = productObj.brand_id;\n      product.discount_percent = productObj.discount_percent;\n      product.in_stock = productObj.in_stock, product.image_src = productObj.image_src;\n      product.image_alt = productObj.name;\n    },\n    deleteProduct(state, id) {\n      state.products = state.products.filter(x => x.product_id != id);\n    }\n  },\n  getters: {\n    products(state) {\n      let filter = [];\n      filter = state.products;\n      if (state.searchObj.keyword) {\n        filter = filter.filter(function (p) {\n          return p.name.toLowerCase().includes(state.searchObj.keyword.toLowerCase().trim());\n        });\n      }\n      if (state.searchObj.choosedCategories.length > 0) {\n        filter = filter.filter(el => state.searchObj.choosedCategories.includes(el.category_id));\n      }\n      if (state.searchObj.choosedBrands.length > 0) {\n        filter = filter.filter(el => state.searchObj.choosedBrands.includes(el.brand_id));\n      }\n      if (state.searchObj.minPrice >= 0 && state.searchObj.maxPrice) {\n        filter = filter.filter(el => el.price >= state.searchObj.minPrice);\n        filter = filter.filter(el => el.price <= state.searchObj.maxPrice);\n      }\n      if (state.searchObj.sort) {\n        filter = filter.sort((a, b) => {\n          if (state.searchObj.sort == 'name-asc') {\n            return a.name.localeCompare(b.name);\n          } else if (state.searchObj.sort == 'name-desc') {\n            return b.name.localeCompare(a.name);\n          } else if (state.searchObj.sort == 'price-asc') {\n            return a.price - b.price;\n          } else if (state.searchObj.sort == 'price-desc') {\n            return b.price - a.price;\n          } else if (state.searchObj.sort == 'newest') {\n            return b.product_id - a.product_id;\n          }\n        });\n      }\n      if (filter.length == 0 && (state.searchObj.keyword || state.searchObj.choosedCategories.length > 0 || state.searchObj.choosedBrands.length > 0 || state.searchObj.sort || state.searchObj.minPrice || state.searchObj.maxPrice)) {\n        return [];\n      } else if (!(state.searchObj.keyword || state.searchObj.choosedCategories.length > 0 || state.searchObj.choosedBrands.length > 0 || state.searchObj.sort || state.searchObj.minPrice || state.searchObj.maxPrice)) {\n        return state.products;\n      } else {\n        return filter;\n      }\n    },\n    newProducts(state) {\n      let products = state.newProducts.sort((a, b) => {\n        return b.product_id - a.product_id;\n      });\n      return products.slice(0, 8);\n    },\n    discountedProducts(state) {\n      let products = state.discountedProducts.filter(x => x.discount_id != null);\n      return products.slice(0, 8);\n    }\n  }\n};","map":{"version":3,"names":["products","state","searchObj","keyword","minPrice","maxPrice","sort","choosedCategories","choosedBrands","newProducts","a","b","product_id","slice","discountedProducts","mutations","filterByKeyword","filterByCategory","categories","filterByBrand","brands","filterByPrice","obj","Number","sortProducts","changePerPage","perPage","resetProducts","insertProduct","productObj","product","length","name","price","category_id","brand_id","discount_percent","in_stock","image_src","image_alt","discount_id","Rating","NumberOfReviews","push","updateProduct","find","x","id","deleteProduct","filter","getters","p","toLowerCase","includes","trim","el","localeCompare"],"sources":["C:/Users/marko/OneDrive/Documents/GitHub/electro_vue/src/store/modules/products.js"],"sourcesContent":["import products from \"../sources/products.json\"\r\n\r\nexport default {\r\n    state: {\r\n      searchObj: { keyword : null, minPrice : null, maxPrice : null, sort: null ,choosedCategories : [], choosedBrands : [] },\r\n      products: products,\r\n      newProducts: state.newProducts.sort((a, b) => {\r\n        return b.product_id - a.product_id\r\n      } ).slice(0, 8),\r\n      discountedProducts: products\r\n    },\r\n    mutations: {\r\n      filterByKeyword(state, keyword) {\r\n        state.searchObj.keyword = keyword\r\n      },\r\n      filterByCategory(state, categories) {\r\n        state.searchObj.choosedCategories = categories\r\n      },\r\n      filterByBrand(state, brands) {\r\n        state.searchObj.choosedBrands = brands\r\n      },\r\n      filterByPrice(state, obj) {\r\n        state.searchObj.minPrice = Number(obj.minPrice)\r\n        state.searchObj.maxPrice = Number(obj.maxPrice)\r\n      },\r\n      sortProducts(state, sort) {\r\n        state.searchObj.sort = sort\r\n      },\r\n      changePerPage(state, perPage) {\r\n        state.searchObj.perPage = perPage\r\n      },\r\n      resetProducts(state) {\r\n        state.searchObj = { keyword : null, minPrice : null, maxPrice : null, sort: null ,choosedCategories : [], choosedBrands : [] }\r\n        \r\n      },\r\n      insertProduct(state, productObj) {\r\n        let product = {\r\n          product_id: state.products.length + 1,\r\n          name: productObj.name,\r\n          price: productObj.price,\r\n          category_id: productObj.category_id,\r\n          brand_id: productObj.brand_id,\r\n          discount_percent: productObj.discount_percent,\r\n          in_stock: productObj.in_stock,\r\n          image_src: productObj.image_src,\r\n          image_alt: productObj.name,\r\n          discount_id: productObj.discount_percent > 0 ? state.products.length + 1 : null,\r\n          Rating: null,\r\n          NumberOfReviews: \"0\"\r\n        }\r\n        state.products.push(product);\r\n      },\r\n      updateProduct(state, productObj) {\r\n        let product = state.products.find(x => x.product_id == productObj.id)\r\n        product.name = productObj.name\r\n        product.price = productObj.price\r\n        product.category_id = productObj.category_id\r\n        product.brand_id = productObj.brand_id\r\n        product.discount_percent = productObj.discount_percent\r\n        product.in_stock = productObj.in_stock,\r\n        product.image_src = productObj.image_src\r\n        product.image_alt = productObj.name\r\n      },\r\n      deleteProduct(state, id) {\r\n        state.products = state.products.filter(x => x.product_id != id)\r\n      }\r\n    },\r\n    getters: {\r\n      products(state) {\r\n          let filter = [];\r\n          filter = state.products\r\n          if(state.searchObj.keyword) {\r\n            filter = filter.filter(function(p) {\r\n              return p.name.toLowerCase().includes(state.searchObj.keyword.toLowerCase().trim())\r\n            }) \r\n          }\r\n          if(state.searchObj.choosedCategories.length > 0) {\r\n            filter = filter.filter(el => state.searchObj.choosedCategories.includes(el.category_id))\r\n          }\r\n          if(state.searchObj.choosedBrands.length > 0) {\r\n            filter = filter.filter(el => state.searchObj.choosedBrands.includes(el.brand_id))\r\n          }\r\n          if(state.searchObj.minPrice >= 0 && state.searchObj.maxPrice) {\r\n            filter = filter.filter(el => el.price >= state.searchObj.minPrice)\r\n            filter = filter.filter(el => el.price <= state.searchObj.maxPrice)\r\n          }\r\n          if(state.searchObj.sort) {\r\n            filter = filter.sort((a, b) => {\r\n              if(state.searchObj.sort == 'name-asc') {\r\n                return a.name.localeCompare(b.name)\r\n              }\r\n              else if(state.searchObj.sort == 'name-desc') {\r\n                return b.name.localeCompare(a.name)\r\n              }\r\n              else if(state.searchObj.sort == 'price-asc') {\r\n                return a.price - b.price\r\n              }\r\n              else if(state.searchObj.sort == 'price-desc') {\r\n                return b.price - a.price\r\n              }\r\n              else if(state.searchObj.sort == 'newest') {\r\n                return b.product_id - a.product_id\r\n              }\r\n            } )\r\n          }\r\n          if(filter.length == 0 && (state.searchObj.keyword || state.searchObj.choosedCategories.length > 0 || state.searchObj.choosedBrands.length > 0 || state.searchObj.sort || state.searchObj.minPrice || state.searchObj.maxPrice)) {\r\n            return [];\r\n          }\r\n          else if (!(state.searchObj.keyword || state.searchObj.choosedCategories.length > 0 || state.searchObj.choosedBrands.length > 0 || state.searchObj.sort || state.searchObj.minPrice || state.searchObj.maxPrice)){\r\n            return state.products\r\n          }\r\n          else {\r\n            return filter\r\n          }\r\n        },\r\n      newProducts(state) {\r\n        let products = state.newProducts.sort((a, b) => {\r\n          return b.product_id - a.product_id\r\n        } )\r\n        return products.slice(0, 8);\r\n      },\r\n      discountedProducts(state) {\r\n        let products = state.discountedProducts.filter(x => x.discount_id != null)\r\n        return products.slice(0, 8);\r\n      }\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}