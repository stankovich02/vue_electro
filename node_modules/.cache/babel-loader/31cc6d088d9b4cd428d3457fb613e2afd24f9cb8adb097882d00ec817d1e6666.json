{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"EditProduct\",\n  data() {\n    return {\n      name: \"\",\n      brand_id: 0,\n      brands: [],\n      categories: [],\n      category_id: 0,\n      product_id: 0,\n      image_src: null,\n      image_alt: null,\n      discount_percent: null,\n      in_stock: null,\n      price: null,\n      stock: {\n        0: \"Out of Stock\",\n        1: \"In Stock\"\n      },\n      error: \"\"\n    };\n  },\n  mounted() {\n    var that = this;\n    let categoryParams = {\n      table: \"category\",\n      getData: true\n    };\n    let brandParams = {\n      table: \"brand\",\n      getData: true\n    };\n    this.$axios.get(\"models/getDataForID.php\", {\n      params: brandParams\n    }).then(response => {\n      that.brands = response.data;\n    }).catch(error => {\n      console.log(error);\n    });\n    this.$axios.get(\"models/getDataForID.php\", {\n      params: categoryParams\n    }).then(response => {\n      that.categories = response.data;\n    }).catch(error => {\n      console.log(error);\n    });\n  },\n  methods: {\n    returnImgSrc(src, imgSize) {\n      return src + '_small.png';\n    },\n    insert: function () {\n      if (!this.name || !this.price || !this.in_stock || !this.image_src || !this.brand_id || !this.category_id) {\n        this.error = \"Fields with * are required.\";\n        return;\n      }\n      this.$store.commit(\"insertProduct\", {\n        name: this.name,\n        price: this.price,\n        brand_id: this.brand_id,\n        category_id: this.category_id,\n        discount_percent: this.discount_percent,\n        in_stock: this.in_stock,\n        image_src: this.image_src\n      });\n      this.$router.push(\"/admin/products\");\n    }\n  }\n};","map":{"version":3,"names":["name","data","brand_id","brands","categories","category_id","product_id","image_src","image_alt","discount_percent","in_stock","price","stock","error","mounted","that","categoryParams","table","getData","brandParams","$axios","get","params","then","response","catch","console","log","methods","returnImgSrc","src","imgSize","insert","$store","commit","$router","push"],"sources":["src/components/pages/InsertProduct.vue"],"sourcesContent":["<template>\r\n    <div class=\"mx-auto w-25 py-5\">\r\n        <ValidationProvider name=\"Name\" rules=\"required|min:5\" v-slot=\"{ errors }\">\r\n            <TextInput :error=\"errors[0]\" id=\"name\" label=\"Name:*\" v-model=\"name\"/>\r\n        </ValidationProvider>\r\n        <ValidationProvider name=\"Price\" rules=\"required|min_value:1\" v-slot=\"{ errors }\">\r\n            <TextInput :error=\"errors[0]\" type=\"number\"  id=\"price\" label=\"Price:*\" v-model=\"price\"/>\r\n        </ValidationProvider>\r\n        <DropDown v-model=\"brand_id\" textProperty=\"brand_name\" valueProperty=\"brand_id\" :options=\"this.brands\" id=\"ddlBrands\" label=\"Brand:*\"/>\r\n        <DropDown v-model=\"category_id\" textProperty=\"category_name\" valueProperty=\"category_id\" :options=\"this.categories\" id=\"ddlCategories\" label=\"Category:*\"/>\r\n        <TextInput type=\"number\"  id=\"discount\" label=\"Discount(%):\" v-model=\"discount_percent\"/>\r\n        <RadioButtons label=\"Stock:*\" :items=\"stock\" v-model=\"in_stock\"/>\r\n        <ValidationProvider name=\"Image\" rules=\"required\" v-slot=\"{ errors }\">\r\n            <TextInput :error=\"errors[0]\"  id=\"image\" label=\"Image:*\" v-model=\"image_src\"/>\r\n        </ValidationProvider>\r\n        <img :src=\"returnImgSrc(image_src)\" :alt=\"name\" class=\"img-fluid\"/>\r\n        <div v-if=\"error\" class=\"alert p-3 mt-2 fs-4 alert-danger text-center\" role=\"alert\">\r\n            {{ error }}\r\n        </div>\r\n        <div class=\"mt-5 text-center\">\r\n            <Button buttonText=\"Insert\" @wasClicked=\"insert()\"/>\r\n        </div>\r\n       \r\n       </div>    \r\n    </template>\r\n    <script>\r\n    export default {\r\n    name: \"EditProduct\",\r\n    data() {\r\n        return {\r\n            name: \"\",\r\n            brand_id: 0,\r\n            brands: [],\r\n            categories: [],\r\n            category_id: 0,\r\n            product_id: 0,\r\n            image_src: null,\r\n            image_alt: null,\r\n            discount_percent: null,\r\n            in_stock: null,\r\n            price: null,\r\n            stock:{\r\n                0: \"Out of Stock\",\r\n                1: \"In Stock\"\r\n            },\r\n            error: \"\"\r\n        };\r\n    },\r\n    mounted() {\r\n        var that = this;\r\n        let categoryParams = {\r\n                table: \"category\",\r\n                getData: true\r\n        }\r\n        let brandParams = {\r\n                table: \"brand\",\r\n                getData: true\r\n        }\r\n        this.$axios.get(\"models/getDataForID.php\", {params: brandParams}).then(response => {\r\n            that.brands = response.data;\r\n        }).catch(error => {\r\n            console.log(error);\r\n        });\r\n        this.$axios.get(\"models/getDataForID.php\", {params: categoryParams}).then(response => {\r\n            that.categories = response.data;\r\n        }).catch(error => {\r\n            console.log(error);\r\n        });\r\n    },\r\n    methods: {\r\n        returnImgSrc(src, imgSize){\r\n\t\t\treturn src + '_small.png';\r\n\t\t},\r\n        insert: function () {\r\n            if(!this.name || !this.price || !this.in_stock || !this.image_src || !this.brand_id || !this.category_id) {\r\n                this.error = \"Fields with * are required.\";\r\n                return;\r\n            }\r\n            this.$store.commit(\"insertProduct\", { name: this.name, price: this.price, brand_id: this.brand_id, category_id: this.category_id, discount_percent: this.discount_percent, in_stock: this.in_stock, image_src: this.image_src});\r\n            this.$router.push(\"/admin/products\");\r\n        }\r\n    }\r\n}\r\n    </script>"],"mappings":";AA0BA;EACAA,IAAA;EACAC,KAAA;IACA;MACAD,IAAA;MACAE,QAAA;MACAC,MAAA;MACAC,UAAA;MACAC,WAAA;MACAC,UAAA;MACAC,SAAA;MACAC,SAAA;MACAC,gBAAA;MACAC,QAAA;MACAC,KAAA;MACAC,KAAA;QACA;QACA;MACA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACA,IAAAC,IAAA;IACA,IAAAC,cAAA;MACAC,KAAA;MACAC,OAAA;IACA;IACA,IAAAC,WAAA;MACAF,KAAA;MACAC,OAAA;IACA;IACA,KAAAE,MAAA,CAAAC,GAAA;MAAAC,MAAA,EAAAH;IAAA,GAAAI,IAAA,CAAAC,QAAA;MACAT,IAAA,CAAAZ,MAAA,GAAAqB,QAAA,CAAAvB,IAAA;IACA,GAAAwB,KAAA,CAAAZ,KAAA;MACAa,OAAA,CAAAC,GAAA,CAAAd,KAAA;IACA;IACA,KAAAO,MAAA,CAAAC,GAAA;MAAAC,MAAA,EAAAN;IAAA,GAAAO,IAAA,CAAAC,QAAA;MACAT,IAAA,CAAAX,UAAA,GAAAoB,QAAA,CAAAvB,IAAA;IACA,GAAAwB,KAAA,CAAAZ,KAAA;MACAa,OAAA,CAAAC,GAAA,CAAAd,KAAA;IACA;EACA;EACAe,OAAA;IACAC,aAAAC,GAAA,EAAAC,OAAA;MACA,OAAAD,GAAA;IACA;IACAE,MAAA,WAAAA,CAAA;MACA,UAAAhC,IAAA,UAAAW,KAAA,UAAAD,QAAA,UAAAH,SAAA,UAAAL,QAAA,UAAAG,WAAA;QACA,KAAAQ,KAAA;QACA;MACA;MACA,KAAAoB,MAAA,CAAAC,MAAA;QAAAlC,IAAA,OAAAA,IAAA;QAAAW,KAAA,OAAAA,KAAA;QAAAT,QAAA,OAAAA,QAAA;QAAAG,WAAA,OAAAA,WAAA;QAAAI,gBAAA,OAAAA,gBAAA;QAAAC,QAAA,OAAAA,QAAA;QAAAH,SAAA,OAAAA;MAAA;MACA,KAAA4B,OAAA,CAAAC,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}